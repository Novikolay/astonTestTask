## Тестовое задание Aston

----
### Практический тест для бэкэнд-разработчика
Разработайте и внедрите RESTful API, службу поддержки и модель данных для создания банковских счетов и перевода 
денег между ними. Взаимодействие с API будет осуществляться с помощью HTTP-запросов.

### Требования
- Счета создаются путем указания имени получателя и четырехзначного PIN-кода.
- Номер счета создается автоматически. Один бенефициар может иметь несколько счетов.
После создания учетной записи вы можете вносить, снимать или переводить деньги между счетами.
- Любая операция по снятию средств со счета должна включать правильный PIN-код.
- История транзакций должна сохраняться для всех изменений баланса.
- Конкретный вызов позволит получить все счета, имя получателя и его текущий баланс. Другой вызов будет получать 
все транзакции для определенной учетной записи.
- API будут использовать полезные данные JSON, когда это применимо. Соответствующие коды ошибок должны быть возвращены, 
если операции не увенчались успехом.
- Использовать базу данных в памяти в качестве резервного хранилища.
- Приложение должно быть создано с использованием Kotlin (предпочтительно) или Java. Используйте Maven для управления зависимостями
- Включите модульное тестирование для вашего уровня обслуживания.
- Включите файл README с инструкциями по использованию API и любым решениям, принятым при разработке и реализации приложения.

### Рекомендации
- Используйте любые удобные вам технологии, но рекомендуется настроить проект с помощью Spring Boot.
- Используйте лучшие практики при реализации кода, чтобы обеспечить высококачественный результат. 
Используйте внедрение зависимостей, избегайте статики, неизменяемых типов и т. д.
- Однако старайтесь говорить просто и по существу. Не переусердствуйте. например нет необходимости добавлять уровни авторизации.
- Может быть полезно включить сценарии или другие механизмы для заполнения вашей базы данных исходными данными.
- Документы Swagger помогают пользователям находить и использовать ваш API.
- Используйте здравый смысл для проверки вводимых данных в API, объясните свои решения в файле README.

### Результат
- Ваш исходный код хранится на Github, Gitlab или Bitbucket.

----

----

## Информация для конфигурации и развертывания

### Зависимости
- Java 11
- Spring Boot
- Postgresql
- Swagger

### Сборка
```bash
mvn clean package
```

### Сборка + запуск
```bash
mvn spring-boot:run
```

### БД
Postgresql

### Swagger для отладки
http://localhost:8888/swagger-ui.html

### API
Для вызова доступны точки:

```/actions/all```  
Возвращает историю операций по всем счетам всех клиентов

```/actions/clientHistory```  
Получение информации по истории транзакций конкретного клиента
<br/>_Ожидает на вход Имя пользователя и PIN-code._

```/bills/all```  
Возвращает все счета из БД

```/bills/id```  
Возвращает конкретный счет из БД по id

```/bills/create```  
Создание нового счета
<br/>_Ожидает на вход Имя пользователя, PIN-code и Стартовую сумму для зачисления._

```/bills/receive```  
Снятие средств со счета
<br/>_Ожидает на вход № счета, PIN-code и сумму для снятия._

```/bills/deposit```  
Зачисление средств на счет
<br/>_Ожидает на вход № счета и сумму для зачисления._

```/bills/transfer```  
Проводка средств между счетами
<br/>_Ожидает на вход № счета отправителя, PIN-code отправителя, сумму перевода и № счета получателя._

```/customers/all```  
Возвращает всех клиентов из БД

```/customers/id```  
Возвращает конкретного клиента из БД по id

```/customers/create```  
Создание нового пользователя
<br/>_Ожидает на вход Имя пользователя и PIN-code._

```/customers/clientAccounts```  
Получение информации по счетам клиента
<br/>_Ожидает на вход Имя пользователя и PIN-code._

### Таблица public.customers
| Название поля | Заголовок | Тип | Опции |
| ------------- | --------- | --------- | --------- |
| id | id | integer | NOT NULL PRIMARY KEY |
| имя пользователя | name | character varying(100) | NOT NULL |
| пароль | pin  | integer  | NOT NULL |

### Таблица public.bills
| Название поля | Заголовок | Тип | Опции                |
|--------------| --------- | --------- |----------------------|
| id           | id        | integer | NOT NULL PRIMARY KEY |
| номер счета  | number    | character varying(100) | NOT NULL |
| баланс       | amount    | integer | NOT NULL |
| владелец счета | customerId | integer | NOT NULL |

### Таблица public.actions
| Название поля  | Заголовок      | Тип                         | Опции                |
|----------------|----------------|-----------------------------|----------------------|
| id             | id             | serial                      | NOT NULL |
| дата операции  | dateTime       | timestamp without time zone | NOT NULL |
| id счета       | billId         | integer                     | NOT NULL                    |
| владелец счета | customerId     | integer                     | NOT NULL                    |
| тип операции   | actionType     | integer                     | NOT NULL                    |
| баланс         | amount | integer                     | NOT NULL                    |
